<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <header>
        <h1>Jogo de Adivinha√ß√£o</h1>
        <p>Tente adivinhar o n√∫mero secreto (entre 1 e 100).</p>
    </header>
    <main>
        <section id="secao-dicas">
            <h3 id="dica">Digite um palpite at√© acertar.</h3>
        </section>
        <section id="secao-controles">
            <input type="number" id="campo-palpite" placeholder="Digite seu palpite" class="campo-entrada">

            <button id="botao-palpitar" class="botao-acao">
                Adivinhar
            </button>
        </section>

        <button id="botao-novo-jogo" class="botao-novo-jogo oculto">
            Novo Jogo
        </button>

        <section id="secao-historico">
            <h5 class="titulo-historico">Tentativas (<span id="contador-tentativas">0</span>):</h5>
            <ul id="lista-palpites" class="lista-palpites">
                <li class="item-palpite item-oculto">t1</li>
                <li class="item-palpite item-oculto">t2</li>
                <li class="item-palpite item-oculto">t3</li>
            </ul>
        </section>
    </main>
    <script>
        // --- Refer√™ncias do DOM ---
        const campoPalpite = document.getElementById("campo-palpite");
        const botaoPalpitar = document.getElementById("botao-palpitar");
        const botaoNovoJogo = document.getElementById("botao-novo-jogo");
        const elementoDica = document.getElementById("dica");
        const secaoDicas = document.getElementById("secao-dicas");
        const contadorTentativas = document.getElementById("contador-tentativas");
        const listaPalpites = document.getElementById("lista-palpites");

        // --- Vari√°veis de Estado (M√≠nimo) ---
        let numeroSorteado;
        let tentativas;
        let isGameOver;
        const N_MIN = 1;
        const N_MAX = 100;

        // Fun√ß√£o √önica para L√≥gica de Checagem
        function checarPalpite() {
            if (isGameOver) return;

            const palpiteTexto = campoPalpite.value;
            const palpite = parseInt(palpiteTexto);

            // 1. Valida√ß√£o
            if (isNaN(palpite) || palpite < N_MIN || palpite > N_MAX) {
                elementoDica.textContent = `Insira um n√∫mero v√°lido entre ${N_MIN} e ${N_MAX}.`;
                secaoDicas.className = '';
                return;
            }

            // 2. Atualiza Tentativas e Hist√≥rico
            tentativas++;
            contadorTentativas.textContent = tentativas;

            const item = document.createElement('li');
            item.textContent = palpite;
            item.className = 'item-palpite';
            listaPalpites.appendChild(item);

            campoPalpite.value = '';
            campoPalpite.focus();

            // 3. L√≥gica de Compara√ß√£o
            if (palpite === numeroSorteado) {
                // Acertou
                isGameOver = true;
                elementoDica.textContent = `ü•≥ ACERTOU! O n√∫mero era ${numeroSorteado} em ${tentativas} tentativas!`;
                secaoDicas.className = 'dica-acerto';

                // Desabilita e Mostra Novo Jogo
                campoPalpite.disabled = true;
                botaoPalpitar.disabled = true;
                botaoNovoJogo.classList.remove('oculto');

            } else if (numeroSorteado > palpite) {
                // Muito BAIXO
                elementoDica.textContent = 'Seu palpite est√° muito BAIXO. Tente um n√∫mero MAIOR.';
                secaoDicas.className = 'dica-baixa';
            } else {
                // Muito ALTO
                elementoDica.textContent = 'Seu palpite est√° muito ALTO. Tente um n√∫mero MENOR.';
                secaoDicas.className = 'dica-alta';
            }
        }

        // Fun√ß√£o √önica para Iniciar/Reiniciar o Jogo
        function iniciarJogo() {
            // Gera o novo n√∫mero secreto e reseta o estado
            numeroSorteado = Math.floor(Math.random() * (N_MAX - N_MIN + 1)) + N_MIN;
            tentativas = 0;
            isGameOver = false;

            // Reseta a UI
            elementoDica.textContent = 'Digite um palpite at√© acertar.';
            secaoDicas.className = '';
            contadorTentativas.textContent = '0';
            listaPalpites.innerHTML = '';
            campoPalpite.value = '';

            // Habilita/Desabilita Controles
            campoPalpite.disabled = false;
            botaoPalpitar.disabled = false;
            botaoNovoJogo.classList.add('oculto');
        }

        // --- Event Listeners (Liga√ß√£o Simples) ---

        // Liga o bot√£o Adivinhar √† fun√ß√£o de checagem
        botaoPalpitar.addEventListener('click', checarPalpite);

        // Liga o bot√£o Novo Jogo √† fun√ß√£o de rein√≠cio
        botaoNovoJogo.addEventListener('click', iniciarJogo);

        // Liga a tecla Enter no input √† fun√ß√£o de checagem
        campoPalpite.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                checarPalpite();
            }
        });

        // Inicia o jogo ao carregar
        window.onload = iniciarJogo;
    </script>

</body>

</html>